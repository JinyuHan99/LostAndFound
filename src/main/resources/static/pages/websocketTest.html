<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <script type="text/javascript">
        var success = 0;
        function WebSocketTest(i){
            if ("WebSocket" in window){
                var x = 100;//上限
                var y = 0; //下限
                // 打开一个 web socket
                var ws = new WebSocket("ws://localhost:80/api/websocket/" + i);
                ws.onopen = function(){
                    // Web Socket 已连接上，使用 send() 方法发送数据
                    ws.send("客户端来了");
                    success++;
                    console.log("成功连接个数："+success);
                };
                ws.onmessage = function (evt) {
                    var received_msg = evt.data;
                };
            }else{
                // 浏览器不支持 WebSocket
                alert("您的浏览器不支持 WebSocket!");
            }
        }
        WebSocketTest(1);
    </script>
</head>
<body>
</body>
</html>